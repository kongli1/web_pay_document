# 优惠交易平台

## 场景描述

### 退货

用户对买到的商品因各种原因想要退还商品返回本金，可以发起本操作

**参与者：**  买方（平台用户）、卖方（平台用户）

#### 自动退货

**假设：** 卖方售卖商品支持自动退货、买方购买了商品且商品未打开、未到有效期   
**约束：** 买方已经完成购买商品流程（对订单支付完成），并进入未完成订单列表，可看到“申请退货”操作，如有其他操作会到其相应的界面  
   
- 场景1： 卖家无需确认退货  
        买方点击“申请退货”操作，卖方无需确认就可以完成退货流程（钱返还给买方），同时收到系统提示的退货信息
        
####非自动退货  

**假设：** 卖方售卖商品、买方购买商品且未确认验货  
**约束：** 买方已经完成购买商品流程（对订单支付完成），并进入未完成订单列表，可看到“申请退货”操作，如有其他操作会到其相应的界面。如“申请退货”后3日内卖方没有应答系统自动认定卖方同意退货 

- 场景1：卖方同意退货  
买方点击“申请退货”操作，完善退货原因说明，并提交申请，卖方将收到系统提示的买方发起的退货申请，卖方根据商品信息，以及买家退货原因描述给予确认退货  
- 场景2：卖方拒绝退货  
买方点击“申请退货”操作，完善退货原因说明，并提交申请，卖方将收到系统提示的买方发起的退货申请，卖方根据商品信息，以及买家退货原因描述点击“拒绝退货”（要描述拒绝原因）  


### 购买优惠券
用户对商品有购买需求时，可以查找商品，选择商品生成待支付订单，选择支付方式完成支付后，达到购买商品的目的  
**参与者：** 买方（平台用户）  

**假设：** 买方以商品名称或店面名称检索到要购买的商品信息  
**约束：** 买方在生成待支付订单时，有30分钟的支付时间，过时订单自动取消，回到商品检索界面  

- 场景1：购买商品成功  
  买方选择检索到的某一商品选择“购买”生成待支付订单，买家根据提供的支付方式选择一种进行支付，支付成功后，买家显示购买成功，商品以非真实券码形式展现成功订单信息里。  
- 场景2：购买商品失败（支付失败）  
  买方选择检索到的某一商品选择“购买”生成待支付订单，买家根据提供的支付方式选择一种进行支付，由于余额不足等情况支付失败，订单没有超时的时间内仍可以继续换其他方式支付。  
- 场景3：购买商品失败（订单超时）  
  买方选择检索到的某一商品选择“购买”生成待支付订单，订单在30内没有完成支付，订单被系统取消，界面回到商品检索界面。  
  


### 查询优惠券
用户在有购买需求时，可以在商品列表展示界面，通过商品名称或店面名称检索到要购买的商品列表  
**参与者** 买方（平台用户）  

**假设：** 买方有查询某一种类的商品需求  
**约束：** 检索的商品不存在时，可重新录入检索内容，再次检索  

- 场景1：查询商品
   买方录入要检索的信息，点击“查询”，获得与检索信息相关的商品列表，如没有检索到商品，会提示商品不存在，可重新录入检索内容，再次检索  
   
   
### 仲裁  

买卖双方在交易有争议的情况下，直接通过本平台的仲裁功能进行处理。  

**参与者：**  
关系网中字母代表平台已注册的用户，箭头指向方为被邀请的用户，反之则是其邀请者，其中加粗字母代表买卖双方用户  
用户关系网体现两种情况：  
关系网1：  
A->B->**C**->D->E->F->G->H->**I**->J->K->L  
关系网2：  
A->B->**C**->D->E->F<-G<-H<-**I**<-J<-K<-L  

#### 用于关系网1情况

**假设：**    
 C是买方、I是卖方，C与I存在交易争议  
**约束：**    
买卖双方不参与投票，出于买卖双方之间的用户参与投票，买卖双方在最终的仲裁时效到期内，如无结果则买方获胜。  

**场景1：** 有人投票且票数不等  
- 买家C针对该订单，操作“申请仲裁”功能，填写要仲裁原因内容并提交，处于买卖双方关系链条之间的用户D、E、F、G、H将收到参与仲裁投票通知，
  点击消息进去聊天室，买卖双方可以在在聊天室内阐述各自理由，仲裁用户也可发言调节，调节无效后，参与投票用户可以开始匿名投票，投票票数
  相等或仲裁时效1天到期后无人投票直接判定买方胜，否则票数多方获胜。  

**场景2：** 票数相等或无人投票，仲裁1天时效到期后  
- 买家C针对该订单，操作“申请仲裁”功能，填写要仲裁原因内容并提交，处于买卖双方关系链条之间的用户D、E、F、G、H将收到参与仲裁投票通知，
  点击消息进去聊天室，买卖双方可以在在聊天室内阐述各自理由，仲裁用户也可发言调节，调节无效后，参与投票用户可以开始匿名投票，投票票数
  相等或无人投票，直接在仲裁1天时效到期后，判定买方胜。

#### 用于关系网2情况

**假设：**    
 C是买方、I是卖方，C与I存在交易争议  
**约束：**    
买卖双方不参与投票，出于买卖双方之间的用户参与投票，买卖双方在最终的仲裁时效到期内，如无结果则买方获胜。  

**场景1:** 有人投票且票数不等  
- 买家C针对该订单，操作“申请仲裁”功能，填写要仲裁原因内容并提交，处于买卖双方关系链条之间的用户D、E、F、G、H将收到参与仲裁投票通知，
  点击消息进去聊天室，买卖双方可以在在聊天室内阐述各自理由，仲裁用户也可发言调节，调节无效后，参与投票用户可以开始匿名投票，票数多方获胜。  
   
**场景2：** 有人投票且票数相等  
- 买家C针对该订单，操作“申请仲裁”功能，填写要仲裁原因内容并提交，处于买卖双方关系链条之间的用户D、E、F、G、H将收到参与仲裁投票通知，
  点击消息进去聊天室，买卖双方可以在在聊天室内阐述各自理由，仲裁用户也可发言调节，调节无效后，参与投票用户可以开始匿名投票，投票票数
  相等则根据买卖双方的父节点用户F的投票情况裁定获胜方，如父节点没有投票直接时效1天到期后自动判定买方C获胜。   
  
**场景3：** 无人投票  
- 买家C针对该订单，操作“申请仲裁”功能，填写要仲裁原因内容并提交，处于买卖双方关系链条之间的用户D、E、F、G、H将收到参与仲裁投票通知，
  点击消息进去聊天室，买卖双方可以在在聊天室内阐述各自理由，仲裁用户也可发言调节，调节无效后，参与投票用户可以开始匿名投票，仲裁时效
  到期后仍无人投票，判定买方C胜。 


   
  




   
       
